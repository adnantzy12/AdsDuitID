<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-adsense-account" content="ca-pub-9697754978669232">
    <title>AdsDuitID - Dapatkan Uang dari Iklan</title>
    <meta name="description" content="Platform penghasil uang dari Indonesia. Kerjakan CAPTCHA, tonton iklan, dan dapatkan Rp 35-50 per iklan. Minimal penarikan hanya Rp 100!">
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9697754978669232" crossorigin="anonymous"></script>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#22c55e',
                        secondary: '#eab308',
                        accent: '#f59e0b',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    
    <style>
        * {
            font-family: 'Inter', sans-serif;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #22c55e 0%, #eab308 100%);
        }
        
        .gradient-text {
            background: linear-gradient(135deg, #22c55e 0%, #eab308 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px -8px rgba(0, 0, 0, 0.15);
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .slide-in {
            animation: slideIn 0.5s ease-out;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #22c55e;
            border-radius: 4px;
        }
        
        .hidden-page {
            display: none;
        }
        
        .active-page {
            display: block;
            animation: fadeIn 0.3s ease-out;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Navigation -->
    <nav id="navbar" class="bg-white border-b sticky top-0 z-50 hidden">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-3 cursor-pointer" onclick="showPage('dashboard')">
                    <img src="logo.png" alt="AdsDuitID" class="w-10 h-10">
                    <span class="font-bold text-lg">AdsDuitID</span>
                </div>
                <div class="flex items-center gap-4">
                    <button onclick="showPage('dashboard')" class="text-gray-600 hover:text-primary transition-colors">Dashboard</button>
                    <button onclick="showPage('earn')" class="text-gray-600 hover:text-primary transition-colors">Kerja</button>
                    <button onclick="showPage('withdraw')" class="text-gray-600 hover:text-primary transition-colors">Tarik</button>
                    <button onclick="showPage('referral')" class="text-gray-600 hover:text-primary transition-colors">Referral</button>
                    <button onclick="logout()" class="text-red-500 hover:text-red-600 transition-colors">Keluar</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- HOME PAGE -->
    <div id="home-page" class="active-page">
        <!-- Hero Section -->
        <section class="relative overflow-hidden pt-16 pb-20 lg:pt-24 lg:pb-32">
            <div class="absolute inset-0 bg-gradient-to-br from-green-50 via-yellow-50 to-green-50"></div>
            <div class="container mx-auto px-4 relative">
                <div class="max-w-4xl mx-auto text-center">
                    <div class="inline-flex items-center gap-2 bg-green-100 text-green-700 px-4 py-2 rounded-full text-sm font-medium mb-6">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" clip-rule="evenodd"></path></svg>
                        Platform Penghasil Uang #1 Indonesia
                    </div>
                    <h1 class="text-4xl md:text-6xl font-bold text-gray-900 mb-6 leading-tight">
                        Dapatkan Uang dari <span class="gradient-text">Iklan</span>
                    </h1>
                    <p class="text-lg md:text-xl text-gray-600 mb-8 max-w-2xl mx-auto">
                        Kerjakan CAPTCHA mudah, tonton iklan, dan dapatkan <span class="font-semibold text-green-600">Rp 35-50</span> per iklan. 
                        Minimal penarikan hanya <span class="font-semibold text-green-600">Rp 100</span>!
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center">
                        <button onclick="showPage('register')" class="gradient-bg text-white px-8 py-4 rounded-xl font-semibold text-lg hover:opacity-90 transition-opacity shadow-lg">
                            Mulai Sekarang
                        </button>
                        <button onclick="showPage('login')" class="bg-white text-gray-700 border-2 border-gray-200 px-8 py-4 rounded-xl font-semibold text-lg hover:border-green-500 hover:text-green-600 transition-colors">
                            Masuk
                        </button>
                    </div>
                    
                    <!-- Stats -->
                    <div class="grid grid-cols-3 gap-4 mt-12 max-w-lg mx-auto">
                        <div class="bg-white rounded-xl p-4 shadow-sm">
                            <p class="text-2xl font-bold text-green-600">10K+</p>
                            <p class="text-sm text-gray-600">Pengguna</p>
                        </div>
                        <div class="bg-white rounded-xl p-4 shadow-sm">
                            <p class="text-2xl font-bold text-green-600">Rp 50M+</p>
                            <p class="text-sm text-gray-600">Total Dibayar</p>
                        </div>
                        <div class="bg-white rounded-xl p-4 shadow-sm">
                            <p class="text-2xl font-bold text-green-600">4.9</p>
                            <p class="text-sm text-gray-600">Rating</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section class="py-16 bg-white">
            <div class="container mx-auto px-4">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold text-gray-900 mb-4">Cara Kerja Sederhana</h2>
                    <p class="text-gray-600 max-w-xl mx-auto">Hanya 3 langkah mudah untuk mulai menghasilkan uang</p>
                </div>
                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-5xl mx-auto">
                    <div class="bg-white rounded-xl p-6 shadow-lg card-hover border border-gray-100">
                        <div class="w-14 h-14 bg-green-100 rounded-xl flex items-center justify-center mb-4 text-green-600">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        </div>
                        <h3 class="font-semibold text-gray-900 mb-2">CAPTCHA Mudah</h3>
                        <p class="text-sm text-gray-600">Kerjakan CAPTCHA matematika sederhana tanpa ribet</p>
                    </div>
                    <div class="bg-white rounded-xl p-6 shadow-lg card-hover border border-gray-100">
                        <div class="w-14 h-14 bg-green-100 rounded-xl flex items-center justify-center mb-4 text-green-600">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        </div>
                        <h3 class="font-semibold text-gray-900 mb-2">Tonton Iklan</h3>
                        <p class="text-sm text-gray-600">Tonton iklan dari Google Ads selama 15 detik</p>
                    </div>
                    <div class="bg-white rounded-xl p-6 shadow-lg card-hover border border-gray-100">
                        <div class="w-14 h-14 bg-green-100 rounded-xl flex items-center justify-center mb-4 text-green-600">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        </div>
                        <h3 class="font-semibold text-gray-900 mb-2">Dapatkan Rp 35-50</h3>
                        <p class="text-sm text-gray-600">Hadiah langsung masuk ke saldo Anda</p>
                    </div>
                    <div class="bg-white rounded-xl p-6 shadow-lg card-hover border border-gray-100">
                        <div class="w-14 h-14 bg-green-100 rounded-xl flex items-center justify-center mb-4 text-green-600">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path></svg>
                        </div>
                        <h3 class="font-semibold text-gray-900 mb-2">Penarikan Rp 100</h3>
                        <p class="text-sm text-gray-600">Minimal penarikan sangat terjangkau</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Referral Section -->
        <section class="py-16 bg-green-50">
            <div class="container mx-auto px-4">
                <div class="max-w-4xl mx-auto">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl font-bold text-gray-900 mb-4">Program Referral</h2>
                        <p class="text-gray-600 max-w-xl mx-auto">Undang teman dan dapatkan bonus tambahan</p>
                    </div>
                    <div class="grid md:grid-cols-3 gap-6">
                        <div class="bg-white rounded-xl p-6 shadow-lg">
                            <div class="w-16 h-16 gradient-bg rounded-xl flex items-center justify-center mb-4 text-white">
                                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                            </div>
                            <h3 class="font-semibold text-gray-900 mb-2">Undang Teman</h3>
                            <p class="text-sm text-gray-600">Bagikan kode referral ke teman-teman Anda</p>
                        </div>
                        <div class="bg-white rounded-xl p-6 shadow-lg">
                            <div class="w-16 h-16 gradient-bg rounded-xl flex items-center justify-center mb-4 text-white">
                                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"></path></svg>
                            </div>
                            <h3 class="font-semibold text-gray-900 mb-2">Bonus Rp 50</h3>
                            <p class="text-sm text-gray-600">Dapatkan Rp 50 saat teman selesaikan 1 iklan</p>
                        </div>
                        <div class="bg-white rounded-xl p-6 shadow-lg">
                            <div class="w-16 h-16 gradient-bg rounded-xl flex items-center justify-center mb-4 text-white">
                                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path></svg>
                            </div>
                            <h3 class="font-semibold text-gray-900 mb-2">Komisi 20%</h3>
                            <p class="text-sm text-gray-600">Dapatkan 20% dari penghasilan teman seumur hidup</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CTA Section -->
        <section class="py-16">
            <div class="container mx-auto px-4">
                <div class="max-w-3xl mx-auto gradient-bg rounded-3xl p-8 md:p-12 text-center text-white">
                    <h2 class="text-3xl md:text-4xl font-bold mb-4">Siap Mulai Menghasilkan?</h2>
                    <p class="text-white/90 mb-8 text-lg">Daftar gratis sekarang dan dapatkan uang dari setiap iklan yang Anda tonton</p>
                    <button onclick="showPage('register')" class="bg-white text-green-600 px-8 py-4 rounded-xl font-semibold text-lg hover:bg-gray-100 transition-colors">
                        Daftar Gratis
                    </button>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="bg-gray-900 text-white py-12">
            <div class="container mx-auto px-4">
                <div class="flex flex-col md:flex-row items-center justify-between gap-4">
                    <div class="flex items-center gap-3">
                        <img src="logo.png" alt="AdsDuitID" class="w-10 h-10">
                        <span class="text-xl font-bold">AdsDuitID</span>
                    </div>
                    <p class="text-gray-400 text-sm">Â© 2025 AdsDuitID. Platform penghasil uang terpercaya Indonesia.</p>
                    <div class="flex items-center gap-2 text-sm text-gray-400">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg>
                        <span>Aman & Terpercaya</span>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- LOGIN PAGE -->
    <div id="login-page" class="hidden-page min-h-screen bg-gradient-to-b from-green-50 to-white flex items-center justify-center p-4">
        <div class="w-full max-w-md">
            <button onclick="showPage('home')" class="mb-4 text-gray-600 hover:text-gray-900 flex items-center gap-2">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
                Kembali
            </button>
            
            <div class="bg-white rounded-2xl shadow-xl p-8">
                <div class="text-center mb-6">
                    <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <img src="logo.png" alt="AdsDuitID" class="w-10 h-10">
                    </div>
                    <h2 class="text-2xl font-bold">Masuk ke AdsDuitID</h2>
                    <p class="text-gray-600 text-sm">Masukkan nomor DANA Anda untuk melanjutkan</p>
                </div>
                
                <form id="login-form" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Nomor DANA</label>
                        <div class="relative">
                            <svg class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>
                            <input type="tel" id="login-nomor" placeholder="Contoh: 08123456789" class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent" required>
                        </div>
                    </div>
                    
                    <button type="submit" class="w-full gradient-bg text-white py-3 rounded-xl font-semibold hover:opacity-90 transition-opacity">
                        Masuk
                    </button>
                </form>
                
                <div class="mt-6 text-center">
                    <p class="text-sm text-gray-600">Belum punya akun? <button onclick="showPage('register')" class="text-green-600 font-medium hover:underline">Daftar sekarang</button></p>
                </div>
            </div>
        </div>
    </div>

    <!-- REGISTER PAGE -->
    <div id="register-page" class="hidden-page min-h-screen bg-gradient-to-b from-green-50 to-white flex items-center justify-center p-4">
        <div class="w-full max-w-md">
            <button onclick="showPage('home')" class="mb-4 text-gray-600 hover:text-gray-900 flex items-center gap-2">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
                Kembali
            </button>
            
            <div class="bg-white rounded-2xl shadow-xl p-8">
                <div class="text-center mb-6">
                    <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <img src="logo.png" alt="AdsDuitID" class="w-10 h-10">
                    </div>
                    <h2 class="text-2xl font-bold">Daftar AdsDuitID</h2>
                    <p class="text-gray-600 text-sm">Buat akun gratis dan mulai menghasilkan uang</p>
                </div>
                
                <form id="register-form" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Nama Lengkap</label>
                        <div class="relative">
                            <svg class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
                            <input type="text" id="reg-nama" placeholder="Masukkan nama lengkap" class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent" required>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Nomor DANA</label>
                        <div class="relative">
                            <svg class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>
                            <input type="tel" id="reg-nomor" placeholder="Contoh: 08123456789" class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent" required>
                        </div>
                        <p class="text-xs text-gray-500 mt-1">Nomor ini akan digunakan untuk penarikan dana</p>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Nama Akun DANA</label>
                        <div class="relative">
                            <svg class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path></svg>
                            <input type="text" id="reg-nama-akun" placeholder="Nama yang terdaftar di DANA" class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent" required>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Kode Referral (Opsional)</label>
                        <div class="relative">
                            <svg class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"></path></svg>
                            <input type="text" id="reg-referral" placeholder="Masukkan kode referral" class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent">
                        </div>
                    </div>
                    
                    <button type="submit" class="w-full gradient-bg text-white py-3 rounded-xl font-semibold hover:opacity-90 transition-opacity">
                        Daftar Gratis
                    </button>
                </form>
                
                <div class="mt-6 text-center">
                    <p class="text-sm text-gray-600">Sudah punya akun? <button onclick="showPage('login')" class="text-green-600 font-medium hover:underline">Masuk di sini</button></p>
                </div>
            </div>
        </div>
    </div>

    <!-- DASHBOARD PAGE -->
    <div id="dashboard-page" class="hidden-page">
        <div class="container mx-auto px-4 py-8">
            <!-- Balance Cards -->
            <div class="grid md:grid-cols-2 gap-4 mb-6">
                <div class="gradient-bg rounded-xl p-6 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-white/80 text-sm mb-1">Saldo Saat Ini</p>
                            <p class="text-3xl font-bold" id="dashboard-saldo">Rp 0</p>
                        </div>
                        <div class="w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path></svg>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white rounded-xl p-6 shadow-sm">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-500 text-sm mb-1">Total Penghasilan</p>
                            <p class="text-3xl font-bold text-gray-900" id="dashboard-total">Rp 0</p>
                        </div>
                        <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center">
                            <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Quick Actions -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-3 mb-6">
                <button onclick="showPage('earn')" class="bg-white border border-gray-200 rounded-xl p-4 flex flex-col items-center gap-2 hover:border-green-500 transition-colors">
                    <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    <span class="text-sm">Mulai Kerja</span>
                </button>
                <button onclick="showPage('withdraw')" class="bg-white border border-gray-200 rounded-xl p-4 flex flex-col items-center gap-2 hover:border-green-500 transition-colors">
                    <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path></svg>
                    <span class="text-sm">Penarikan</span>
                </button>
                <button onclick="showPage('referral')" class="bg-white border border-gray-200 rounded-xl p-4 flex flex-col items-center gap-2 hover:border-green-500 transition-colors">
                    <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                    <span class="text-sm">Referral</span>
                </button>
                <button class="bg-white border border-gray-200 rounded-xl p-4 flex flex-col items-center gap-2 hover:border-green-500 transition-colors">
                    <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
                    <span class="text-sm">Profil</span>
                </button>
            </div>
            
            <!-- Stats -->
            <div class="grid grid-cols-3 gap-4 mb-6">
                <div class="bg-white rounded-xl p-4 shadow-sm text-center">
                    <p class="text-2xl font-bold text-green-600" id="dashboard-ads">0</p>
                    <p class="text-xs text-gray-500">Iklan Ditonton</p>
                </div>
                <div class="bg-white rounded-xl p-4 shadow-sm text-center">
                    <p class="text-2xl font-bold text-blue-600" id="dashboard-referrals">0</p>
                    <p class="text-xs text-gray-500">Teman Diundang</p>
                </div>
                <div class="bg-white rounded-xl p-4 shadow-sm text-center">
                    <p class="text-2xl font-bold text-yellow-600" id="dashboard-ref-earnings">Rp 0</p>
                    <p class="text-xs text-gray-500">Dari Referral</p>
                </div>
            </div>
            
            <!-- Referral Section -->
            <div class="bg-white rounded-xl p-6 shadow-sm mb-6 border border-green-200">
                <h3 class="font-semibold text-lg mb-4 flex items-center gap-2">
                    <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"></path></svg>
                    Program Referral
                </h3>
                <p class="text-sm text-gray-600 mb-4">Bagikan link referral Anda dan dapatkan:</p>
                <ul class="text-sm text-gray-600 mb-4 space-y-1">
                    <li class="flex items-center gap-2">
                        <svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                        Bonus Rp 50 saat teman selesaikan 1 iklan
                    </li>
                    <li class="flex items-center gap-2">
                        <svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                        Komisi 20% dari penghasilan teman seumur hidup
                    </li>
                </ul>
                <div class="flex gap-2">
                    <div class="flex-1 bg-gray-100 rounded-lg px-3 py-2 text-sm truncate" id="referral-link-display">
                        Loading...
                    </div>
                    <button onclick="copyReferralLink()" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors">
                        Salin
                    </button>
                </div>
            </div>
            
            <!-- Transaction History -->
            <div class="bg-white rounded-xl p-6 shadow-sm">
                <h3 class="font-semibold text-lg mb-4">Riwayat Transaksi</h3>
                <div id="transaction-list" class="space-y-3">
                    <p class="text-center text-gray-500 py-8">Belum ada transaksi</p>
                </div>
            </div>
        </div>
    </div>

    <!-- EARN PAGE -->
    <div id="earn-page" class="hidden-page">
        <div class="container mx-auto px-4 py-8">
            <div class="max-w-lg mx-auto">
                <!-- Progress Steps -->
                <div class="mb-8">
                    <div class="flex items-center justify-between">
                        <div class="flex flex-col items-center">
                            <div id="step-1" class="w-10 h-10 rounded-full flex items-center justify-center bg-green-600 text-white font-bold">1</div>
                            <span class="text-xs mt-1 text-gray-600">CAPTCHA</span>
                        </div>
                        <div class="flex-1 h-1 bg-gray-200 mx-2">
                            <div id="progress-1" class="h-full bg-green-500 w-0 transition-all"></div>
                        </div>
                        <div class="flex flex-col items-center">
                            <div id="step-2" class="w-10 h-10 rounded-full flex items-center justify-center bg-gray-200 text-gray-600 font-bold">2</div>
                            <span class="text-xs mt-1 text-gray-600">Iklan</span>
                        </div>
                        <div class="flex-1 h-1 bg-gray-200 mx-2">
                            <div id="progress-2" class="h-full bg-green-500 w-0 transition-all"></div>
                        </div>
                        <div class="flex flex-col items-center">
                            <div id="step-3" class="w-10 h-10 rounded-full flex items-center justify-center bg-gray-200 text-gray-600 font-bold">3</div>
                            <span class="text-xs mt-1 text-gray-600">Selesai</span>
                        </div>
                    </div>
                </div>
                
                <!-- CAPTCHA Section -->
                <div id="captcha-section" class="bg-white rounded-xl p-6 shadow-lg">
                    <div class="text-center mb-6">
                        <h2 class="text-xl font-bold text-gray-900 mb-2">Verifikasi CAPTCHA</h2>
                        <p class="text-gray-600">Selesaikan soal berikut untuk melanjutkan</p>
                    </div>
                    
                    <div class="bg-gradient-to-r from-green-100 to-yellow-100 rounded-xl p-6 mb-6">
                        <p id="captcha-question" class="text-3xl font-bold text-center text-gray-800">Loading...</p>
                    </div>
                    
                    <div id="captcha-options" class="grid grid-cols-2 gap-3 mb-4">
                        <!-- Options will be generated by JS -->
                    </div>
                    
                    <div id="captcha-result" class="hidden text-center mb-4">
                        <p id="captcha-message" class="font-medium"></p>
                    </div>
                    
                    <button onclick="generateCaptcha()" class="w-full border border-gray-300 py-2 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center gap-2">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg>
                        Soal Baru
                    </button>
                </div>
                
                <!-- Ad Section -->
                <div id="ad-section" class="hidden bg-white rounded-xl p-6 shadow-lg">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center gap-2">
                            <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>
                            <span class="font-medium">Menonton Iklan...</span>
                        </div>
                        <div class="bg-green-100 px-3 py-1 rounded-full">
                            <span id="ad-timer" class="text-green-700 font-bold">15s</span>
                        </div>
                    </div>
                    
                    <div class="w-full bg-gray-200 rounded-full h-2 mb-4">
                        <div id="ad-progress" class="bg-green-600 h-2 rounded-full transition-all" style="width: 0%"></div>
                    </div>
                    
                    <!-- Google AdSense Placeholder -->
                    <div class="bg-gray-100 rounded-lg overflow-hidden min-h-[250px] flex items-center justify-center mb-4">
                        <div class="text-center text-gray-500">
                            <svg class="w-12 h-12 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>
                            <p>Iklan Google AdSense</p>
                            <p class="text-sm">(ca-pub-9697754978669232)</p>
                        </div>
                    </div>
                    
                    <p class="text-xs text-gray-500 text-center">Mohon tunggu iklan selesai. Jangan tutup halaman ini.</p>
                </div>
                
                <!-- Success Section -->
                <div id="success-section" class="hidden bg-white rounded-xl p-8 shadow-lg border-2 border-green-200 text-center">
                    <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-10 h-10 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    </div>
                    <h2 class="text-2xl font-bold text-gray-900 mb-2">Selamat!</h2>
                    <p class="text-gray-600 mb-4">Anda telah menyelesaikan tugas</p>
                    <div class="gradient-bg rounded-xl p-4 mb-6">
                        <p class="text-white text-sm mb-1">Hadiah Anda</p>
                        <p id="reward-amount" class="text-white text-3xl font-bold">Rp 0</p>
                    </div>
                    <div class="flex gap-3">
                        <button onclick="showPage('dashboard')" class="flex-1 border border-gray-300 py-3 rounded-xl hover:bg-gray-50 transition-colors">Ke Dashboard</button>
                        <button onclick="resetEarn()" class="flex-1 gradient-bg text-white py-3 rounded-xl hover:opacity-90 transition-opacity">Lanjutkan</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- WITHDRAW PAGE -->
    <div id="withdraw-page" class="hidden-page">
        <div class="container mx-auto px-4 py-8">
            <div class="max-w-md mx-auto">
                <!-- Balance Card -->
                <div class="gradient-bg rounded-xl p-6 text-white mb-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-white/80 text-sm mb-1">Saldo Tersedia</p>
                            <p id="withdraw-saldo" class="text-3xl font-bold">Rp 0</p>
                        </div>
                        <div class="w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path></svg>
                        </div>
                    </div>
                </div>
                
                <!-- Withdraw Form -->
                <div class="bg-white rounded-xl p-6 shadow-sm mb-6">
                    <h3 class="font-semibold text-lg mb-4">Form Penarikan</h3>
                    <p class="text-sm text-gray-600 mb-4">Minimal penarikan Rp 100</p>
                    
                    <div class="bg-blue-50 rounded-lg p-4 mb-4">
                        <div class="flex items-start gap-3">
                            <svg class="w-5 h-5 text-blue-600 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            <div>
                                <p class="text-sm font-medium text-blue-900">Informasi Rekening</p>
                                <p id="withdraw-info-nama" class="text-sm text-blue-700">Nama: -</p>
                                <p id="withdraw-info-dana" class="text-sm text-blue-700">DANA: -</p>
                            </div>
                        </div>
                    </div>
                    
                    <form id="withdraw-form" class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Jumlah Penarikan</label>
                            <div class="relative">
                                <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 font-medium">Rp</span>
                                <input type="number" id="withdraw-amount" placeholder="Masukkan jumlah" class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent" min="100" required>
                            </div>
                        </div>
                        
                        <div class="flex flex-wrap gap-2">
                            <button type="button" onclick="setWithdrawAmount(100)" class="px-3 py-1 border border-gray-300 rounded-lg text-sm hover:border-green-500 transition-colors">Rp 100</button>
                            <button type="button" onclick="setWithdrawAmount(500)" class="px-3 py-1 border border-gray-300 rounded-lg text-sm hover:border-green-500 transition-colors">Rp 500</button>
                            <button type="button" onclick="setWithdrawAmount(1000)" class="px-3 py-1 border border-gray-300 rounded-lg text-sm hover:border-green-500 transition-colors">Rp 1.000</button>
                            <button type="button" onclick="setWithdrawAmount(5000)" class="px-3 py-1 border border-gray-300 rounded-lg text-sm hover:border-green-500 transition-colors">Rp 5.000</button>
                            <button type="button" onclick="setWithdrawAmount(10000)" class="px-3 py-1 border border-gray-300 rounded-lg text-sm hover:border-green-500 transition-colors">Rp 10.000</button>
                        </div>
                        
                        <button type="submit" class="w-full gradient-bg text-white py-3 rounded-xl font-semibold hover:opacity-90 transition-opacity flex items-center justify-center gap-2">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path></svg>
                            Ajukan Penarikan
                        </button>
                    </form>
                </div>
                
                <!-- Withdrawal History -->
                <div class="bg-white rounded-xl p-6 shadow-sm">
                    <h3 class="font-semibold text-lg mb-4">Riwayat Penarikan</h3>
                    <div id="withdrawal-list" class="space-y-3">
                        <p class="text-center text-gray-500 py-8">Belum ada penarikan</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- REFERRAL PAGE -->
    <div id="referral-page" class="hidden-page">
        <div class="container mx-auto px-4 py-8">
            <div class="max-w-md mx-auto">
                <!-- Stats Cards -->
                <div class="grid grid-cols-3 gap-3 mb-6">
                    <div class="bg-white rounded-xl p-4 shadow-sm text-center">
                        <svg class="w-6 h-6 text-blue-600 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                        <p id="ref-total" class="text-xl font-bold">0</p>
                        <p class="text-xs text-gray-500">Total Referral</p>
                    </div>
                    <div class="bg-white rounded-xl p-4 shadow-sm text-center">
                        <svg class="w-6 h-6 text-green-600 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"></path></svg>
                        <p id="ref-active" class="text-xl font-bold">0</p>
                        <p class="text-xs text-gray-500">Aktif</p>
                    </div>
                    <div class="bg-white rounded-xl p-4 shadow-sm text-center">
                        <svg class="w-6 h-6 text-yellow-600 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        <p id="ref-earnings" class="text-xl font-bold">Rp 0</p>
                        <p class="text-xs text-gray-500">Total Bonus</p>
                    </div>
                </div>
                
                <!-- How it Works -->
                <div class="bg-white rounded-xl p-6 shadow-sm mb-6">
                    <h3 class="font-semibold text-lg mb-4">Cara Kerja</h3>
                    <div class="space-y-4">
                        <div class="flex items-start gap-4">
                            <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0 font-bold text-green-600">1</div>
                            <div>
                                <p class="font-medium">Bagikan Link</p>
                                <p class="text-sm text-gray-600">Bagikan link referral ke teman-teman Anda</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-4">
                            <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0 font-bold text-green-600">2</div>
                            <div>
                                <p class="font-medium">Teman Mendaftar</p>
                                <p class="text-sm text-gray-600">Teman mendaftar menggunakan link Anda</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-4">
                            <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0 font-bold text-green-600">3</div>
                            <div>
                                <p class="font-medium">Dapatkan Bonus</p>
                                <p class="text-sm text-gray-600">Rp 50 saat teman selesaikan 1 iklan</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-4">
                            <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0 font-bold text-green-600">4</div>
                            <div>
                                <p class="font-medium">Komisi 20%</p>
                                <p class="text-sm text-gray-600">Dapatkan 20% dari penghasilan teman seumur hidup</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Referral Link -->
                <div class="bg-white rounded-xl p-6 shadow-sm mb-6 border border-green-200">
                    <h3 class="font-semibold text-lg mb-4 flex items-center gap-2">
                        <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"></path></svg>
                        Link Referral Anda
                    </h3>
                    <div class="bg-gray-100 rounded-lg p-3 mb-4 break-all text-sm" id="ref-link-display">
                        Loading...
                    </div>
                    <div class="flex gap-2">
                        <button onclick="copyRefLink()" class="flex-1 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors">
                            Salin Link
                        </button>
                        <button onclick="shareRefLink()" class="flex-1 border border-gray-300 py-2 rounded-lg hover:bg-gray-50 transition-colors">
                            Bagikan
                        </button>
                    </div>
                </div>
                
                <!-- Referred Users -->
                <div class="bg-white rounded-xl p-6 shadow-sm">
                    <h3 class="font-semibold text-lg mb-4">Teman yang Diundang</h3>
                    <div id="referred-users-list">
                        <div class="text-center py-8">
                            <svg class="w-12 h-12 text-gray-300 mx-auto mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                            <p class="text-gray-500">Belum ada teman yang diundang</p>
                            <p class="text-sm text-gray-400 mt-1">Bagikan link referral Anda untuk mulai mengundang</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="fixed bottom-4 left-1/2 -translate-x-1/2 bg-gray-900 text-white px-6 py-3 rounded-xl shadow-lg transform translate-y-20 opacity-0 transition-all duration-300 z-50">
        <span id="toast-message">Message</span>
    </div>

    <script>
        // ==================== DATA STORAGE ====================
        const Storage = {
            getUsers() {
                try {
                    return JSON.parse(localStorage.getItem('adsduitid_users') || '[]');
                } catch (e) {
                    console.error('Error reading users:', e);
                    return [];
                }
            },
            saveUser(user) {
                try {
                    const users = this.getUsers();
                    const index = users.findIndex(u => u.id === user.id);
                    if (index >= 0) {
                        users[index] = user;
                    } else {
                        users.push(user);
                    }
                    localStorage.setItem('adsduitid_users', JSON.stringify(users));
                } catch (e) {
                    console.error('Error saving user:', e);
                    alert('Gagal menyimpan data: ' + e.message);
                }
            },
            getCurrentUser() {
                try {
                    return JSON.parse(localStorage.getItem('adsduitid_current_user') || 'null');
                } catch (e) {
                    console.error('Error reading current user:', e);
                    return null;
                }
            },
            setCurrentUser(user) {
                try {
                    localStorage.setItem('adsduitid_current_user', JSON.stringify(user));
                } catch (e) {
                    console.error('Error setting current user:', e);
                }
            },
            getTransactions() {
                try {
                    return JSON.parse(localStorage.getItem('adsduitid_transactions') || '[]');
                } catch (e) {
                    return [];
                }
            },
            saveTransaction(transaction) {
                try {
                    const transactions = this.getTransactions();
                    transactions.push(transaction);
                    localStorage.setItem('adsduitid_transactions', JSON.stringify(transactions));
                } catch (e) {
                    console.error('Error saving transaction:', e);
                }
            },
            getWithdrawals() {
                try {
                    return JSON.parse(localStorage.getItem('adsduitid_withdrawals') || '[]');
                } catch (e) {
                    return [];
                }
            },
            saveWithdrawal(withdrawal) {
                try {
                    const withdrawals = this.getWithdrawals();
                    withdrawals.push(withdrawal);
                    localStorage.setItem('adsduitid_withdrawals', JSON.stringify(withdrawals));
                } catch (e) {
                    console.error('Error saving withdrawal:', e);
                }
            },
            getAdViews() {
                try {
                    return JSON.parse(localStorage.getItem('adsduitid_ad_views') || '[]');
                } catch (e) {
                    return [];
                }
            },
            saveAdView(adView) {
                try {
                    const adViews = this.getAdViews();
                    adViews.push(adView);
                    localStorage.setItem('adsduitid_ad_views', JSON.stringify(adViews));
                } catch (e) {
                    console.error('Error saving ad view:', e);
                }
            }
        };

        // ==================== UTILS ====================
        function generateId() {
            return Date.now().toString(36) + Math.random().toString(36).substr(2);
        }

        function generateReferralCode() {
            return 'ADS' + Math.random().toString(36).substr(2, 6).toUpperCase();
        }

        function formatRupiah(amount) {
            return new Intl.NumberFormat('id-ID', {
                style: 'currency',
                currency: 'IDR',
                minimumFractionDigits: 0,
            }).format(amount);
        }

        function formatDate(dateString) {
            return new Date(dateString).toLocaleDateString('id-ID', {
                day: 'numeric',
                month: 'long',
                year: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
            });
        }

        function showToast(message) {
            try {
                const toast = document.getElementById('toast');
                const toastMessage = document.getElementById('toast-message');
                if (toast && toastMessage) {
                    toastMessage.textContent = message;
                    toast.classList.remove('translate-y-20', 'opacity-0');
                    setTimeout(() => {
                        toast.classList.add('translate-y-20', 'opacity-0');
                    }, 3000);
                } else {
                    // Fallback to alert if toast element not found
                    alert(message);
                }
            } catch (e) {
                alert(message);
            }
        }

        // ==================== PAGE NAVIGATION ====================
        let currentUser = null;
        let captchaAnswer = 0;
        let currentReward = 0;
        let adTimer = null;

        function showPage(pageName) {
            // Hide all pages
            document.querySelectorAll('[id$="-page"]').forEach(page => {
                page.classList.remove('active-page');
                page.classList.add('hidden-page');
            });
            
            // Show target page
            const targetPage = document.getElementById(pageName + '-page');
            if (targetPage) {
                targetPage.classList.remove('hidden-page');
                targetPage.classList.add('active-page');
            }
            
            // Show/hide navbar
            const navbar = document.getElementById('navbar');
            if (pageName === 'home' || pageName === 'login' || pageName === 'register') {
                navbar.classList.add('hidden');
            } else {
                navbar.classList.remove('hidden');
            }
            
            // Update page specific data
            if (pageName === 'dashboard') {
                updateDashboard();
            } else if (pageName === 'earn') {
                resetEarn();
            } else if (pageName === 'withdraw') {
                updateWithdrawPage();
            } else if (pageName === 'referral') {
                updateReferralPage();
            }
            
            // Scroll to top
            window.scrollTo(0, 0);
        }

        // ==================== AUTH ====================
        // Login form handler
        const loginForm = document.getElementById('login-form');
        if (loginForm) {
            loginForm.addEventListener('submit', function(e) {
                e.preventDefault();
                e.stopPropagation();
                
                try {
                    const nomorDana = document.getElementById('login-nomor').value.trim();
                    
                    if (!nomorDana) {
                        showToast('Masukkan nomor DANA!');
                        return;
                    }
                    
                    const users = Storage.getUsers();
                    const user = users.find(u => u.nomorDana === nomorDana);
                    
                    if (user) {
                        currentUser = user;
                        Storage.setCurrentUser(user);
                        showToast('Berhasil masuk! Selamat datang ' + user.nama);
                        setTimeout(() => {
                            showPage('dashboard');
                        }, 500);
                    } else {
                        showToast('Nomor DANA tidak terdaftar. Silakan daftar dulu.');
                    }
                } catch (error) {
                    console.error('Login error:', error);
                    showToast('Terjadi kesalahan: ' + error.message);
                }
            });
        }

        // Register form handler
        const registerForm = document.getElementById('register-form');
        if (registerForm) {
            registerForm.addEventListener('submit', function(e) {
                e.preventDefault();
                e.stopPropagation();
                
                try {
                    const nama = document.getElementById('reg-nama').value.trim();
                    const nomorDana = document.getElementById('reg-nomor').value.trim();
                    const namaAkunDana = document.getElementById('reg-nama-akun').value.trim();
                    const referralCodeInput = document.getElementById('reg-referral');
                    const referralCode = referralCodeInput ? referralCodeInput.value.trim() : '';
                    
                    // Validasi
                    if (!nama || !nomorDana || !namaAkunDana) {
                        showToast('Semua field wajib diisi!');
                        return;
                    }
                    
                    if (nomorDana.length < 10) {
                        showToast('Nomor DANA minimal 10 digit!');
                        return;
                    }
                    
                    const users = Storage.getUsers();
                    
                    if (users.some(u => u.nomorDana === nomorDana)) {
                        showToast('Nomor DANA sudah terdaftar');
                        return;
                    }
                    
                    const newUser = {
                        id: generateId(),
                        nama: nama,
                        nomorDana: nomorDana,
                        namaAkunDana: namaAkunDana,
                        saldo: 0,
                        totalPenghasilan: 0,
                        referralCode: generateReferralCode(),
                        referredBy: null,
                        createdAt: new Date().toISOString(),
                        isAdmin: users.length === 0
                    };
                    
                    // Handle referral
                    if (referralCode) {
                        const referrer = users.find(u => u.referralCode === referralCode);
                        if (referrer) {
                            newUser.referredBy = referrer.id;
                            referrer.referredUsers = (referrer.referredUsers || 0) + 1;
                            Storage.saveUser(referrer);
                        }
                    }
                    
                    Storage.saveUser(newUser);
                    currentUser = newUser;
                    Storage.setCurrentUser(newUser);
                    
                    // Reset form
                    registerForm.reset();
                    
                    showToast('Pendaftaran berhasil! Selamat datang ' + nama);
                    
                    setTimeout(() => {
                        showPage('dashboard');
                    }, 1000);
                    
                } catch (error) {
                    console.error('Register error:', error);
                    showToast('Terjadi kesalahan: ' + error.message);
                }
            });
        }

        function logout() {
            currentUser = null;
            Storage.setCurrentUser(null);
            showPage('home');
        }

        // ==================== DASHBOARD ====================
        function updateDashboard() {
            currentUser = Storage.getCurrentUser();
            if (!currentUser) {
                showPage('login');
                return;
            }
            
            document.getElementById('dashboard-saldo').textContent = formatRupiah(currentUser.saldo);
            document.getElementById('dashboard-total').textContent = formatRupiah(currentUser.totalPenghasilan);
            
            // Count ad views
            const adViews = Storage.getAdViews().filter(av => av.userId === currentUser.id);
            document.getElementById('dashboard-ads').textContent = adViews.length;
            
            // Count referrals
            const users = Storage.getUsers();
            const referredUsers = users.filter(u => u.referredBy === currentUser.id);
            document.getElementById('dashboard-referrals').textContent = referredUsers.length;
            
            // Calculate referral earnings
            const transactions = Storage.getTransactions();
            const refEarnings = transactions
                .filter(t => t.userId === currentUser.id && (t.type === 'referral_bonus' || t.type === 'referral_commission'))
                .reduce((sum, t) => sum + t.amount, 0);
            document.getElementById('dashboard-ref-earnings').textContent = formatRupiah(refEarnings);
            
            // Update referral link
            const referralLink = `${window.location.origin}/index.html?ref=${currentUser.referralCode}`;
            document.getElementById('referral-link-display').textContent = referralLink;
            
            // Update transactions
            updateTransactionList();
        }

        function updateTransactionList() {
            const transactions = Storage.getTransactions()
                .filter(t => t.userId === currentUser.id)
                .sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt))
                .slice(0, 10);
            
            const listEl = document.getElementById('transaction-list');
            if (transactions.length === 0) {
                listEl.innerHTML = '<p class="text-center text-gray-500 py-8">Belum ada transaksi</p>';
                return;
            }
            
            listEl.innerHTML = transactions.map(t => `
                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                    <div>
                        <p class="font-medium text-sm">${t.description}</p>
                        <p class="text-xs text-gray-500">${formatDate(t.createdAt)}</p>
                    </div>
                    <div class="text-right">
                        <p class="font-semibold ${t.amount >= 0 ? 'text-green-600' : 'text-red-600'}">
                            ${t.amount >= 0 ? '+' : ''}${formatRupiah(t.amount)}
                        </p>
                        <span class="text-xs px-2 py-1 rounded-full ${t.status === 'completed' ? 'bg-green-100 text-green-700' : 'bg-yellow-100 text-yellow-700'}">
                            ${t.status === 'completed' ? 'Selesai' : 'Pending'}
                        </span>
                    </div>
                </div>
            `).join('');
        }

        function copyReferralLink() {
            const referralLink = document.getElementById('referral-link-display').textContent;
            navigator.clipboard.writeText(referralLink);
            showToast('Link berhasil disalin!');
        }

        // ==================== EARN / CAPTCHA ====================
        function generateCaptcha() {
            const operations = ['+', '-', '*'];
            const operation = operations[Math.floor(Math.random() * operations.length)];
            let num1, num2, answer;
            
            switch (operation) {
                case '+':
                    num1 = Math.floor(Math.random() * 20) + 1;
                    num2 = Math.floor(Math.random() * 20) + 1;
                    answer = num1 + num2;
                    break;
                case '-':
                    num1 = Math.floor(Math.random() * 20) + 10;
                    num2 = Math.floor(Math.random() * 10) + 1;
                    answer = num1 - num2;
                    break;
                case '*':
                    num1 = Math.floor(Math.random() * 10) + 1;
                    num2 = Math.floor(Math.random() * 5) + 1;
                    answer = num1 * num2;
                    break;
            }
            
            captchaAnswer = answer;
            document.getElementById('captcha-question').textContent = `${num1} ${operation} ${num2} = ?`;
            
            // Generate options
            const options = new Set([answer]);
            while (options.size < 4) {
                const offset = Math.floor(Math.random() * 10) - 5;
                const wrongAnswer = answer + offset;
                if (wrongAnswer !== answer && wrongAnswer >= 0) {
                    options.add(wrongAnswer);
                }
            }
            
            const optionsArray = Array.from(options).sort(() => Math.random() - 0.5);
            document.getElementById('captcha-options').innerHTML = optionsArray.map(opt => `
                <button onclick="checkCaptchaAnswer(${opt})" class="h-14 text-xl font-semibold border-2 border-gray-200 rounded-xl hover:border-green-500 hover:bg-green-50 transition-colors">
                    ${opt}
                </button>
            `).join('');
            
            document.getElementById('captcha-result').classList.add('hidden');
        }

        function checkCaptchaAnswer(answer) {
            const resultEl = document.getElementById('captcha-result');
            const messageEl = document.getElementById('captcha-message');
            
            if (answer === captchaAnswer) {
                // Correct - show ad
                document.getElementById('captcha-section').classList.add('hidden');
                document.getElementById('ad-section').classList.remove('hidden');
                document.getElementById('step-1').innerHTML = '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>';
                document.getElementById('step-1').classList.add('bg-green-500');
                document.getElementById('progress-1').style.width = '100%';
                document.getElementById('step-2').classList.remove('bg-gray-200');
                document.getElementById('step-2').classList.add('bg-green-600', 'text-white');
                
                startAdTimer();
            } else {
                // Wrong - show error and regenerate
                messageEl.textContent = 'Jawaban salah! Soal baru akan muncul...';
                messageEl.className = 'font-medium text-red-600';
                resultEl.classList.remove('hidden');
                setTimeout(generateCaptcha, 1500);
            }
        }

        function startAdTimer() {
            let timeLeft = 15;
            const timerEl = document.getElementById('ad-timer');
            const progressEl = document.getElementById('ad-progress');
            
            adTimer = setInterval(() => {
                timeLeft--;
                timerEl.textContent = timeLeft + 's';
                progressEl.style.width = ((15 - timeLeft) / 15 * 100) + '%';
                
                if (timeLeft <= 0) {
                    clearInterval(adTimer);
                    completeAd();
                }
            }, 1000);
        }

        function completeAd() {
            document.getElementById('ad-section').classList.add('hidden');
            document.getElementById('success-section').classList.remove('hidden');
            document.getElementById('step-2').innerHTML = '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>';
            document.getElementById('step-2').classList.add('bg-green-500');
            document.getElementById('progress-2').style.width = '100%';
            document.getElementById('step-3').classList.remove('bg-gray-200');
            document.getElementById('step-3').classList.add('bg-green-600', 'text-white');
            
            // Generate reward
            currentReward = Math.floor(Math.random() * (50 - 35 + 1)) + 35;
            document.getElementById('reward-amount').textContent = formatRupiah(currentReward);
            
            // Save ad view
            Storage.saveAdView({
                id: generateId(),
                userId: currentUser.id,
                captchaId: generateId(),
                reward: currentReward,
                viewedAt: new Date().toISOString()
            });
            
            // Add earning
            currentUser.saldo += currentReward;
            currentUser.totalPenghasilan += currentReward;
            Storage.saveUser(currentUser);
            Storage.setCurrentUser(currentUser);
            
            // Save transaction
            Storage.saveTransaction({
                id: generateId(),
                userId: currentUser.id,
                type: 'earn',
                amount: currentReward,
                status: 'completed',
                description: 'Penghasilan dari menonton iklan',
                createdAt: new Date().toISOString(),
                completedAt: new Date().toISOString()
            });
            
            // Check referral bonus
            if (currentUser.referredBy) {
                const referrer = Storage.getUsers().find(u => u.id === currentUser.referredBy);
                if (referrer && !currentUser.referralBonusGiven) {
                    // Give bonus to referrer
                    referrer.saldo += 50;
                    referrer.totalPenghasilan += 50;
                    Storage.saveUser(referrer);
                    
                    Storage.saveTransaction({
                        id: generateId(),
                        userId: referrer.id,
                        type: 'referral_bonus',
                        amount: 50,
                        status: 'completed',
                        description: `Bonus referral dari ${currentUser.nama}`,
                        createdAt: new Date().toISOString(),
                        completedAt: new Date().toISOString()
                    });
                    
                    currentUser.referralBonusGiven = true;
                    Storage.saveUser(currentUser);
                }
                
                // Give 20% commission
                const commission = Math.floor(currentReward * 0.2);
                referrer.saldo += commission;
                referrer.totalPenghasilan += commission;
                Storage.saveUser(referrer);
                
                Storage.saveTransaction({
                    id: generateId(),
                    userId: referrer.id,
                    type: 'referral_commission',
                    amount: commission,
                    status: 'completed',
                    description: `Komisi 20% dari penghasilan ${currentUser.nama}`,
                    createdAt: new Date().toISOString(),
                    completedAt: new Date().toISOString()
                });
            }
        }

        function resetEarn() {
            clearInterval(adTimer);
            document.getElementById('captcha-section').classList.remove('hidden');
            document.getElementById('ad-section').classList.add('hidden');
            document.getElementById('success-section').classList.add('hidden');
            document.getElementById('step-1').textContent = '1';
            document.getElementById('step-1').classList.remove('bg-green-500');
            document.getElementById('step-1').classList.add('bg-green-600');
            document.getElementById('progress-1').style.width = '0%';
            document.getElementById('step-2').textContent = '2';
            document.getElementById('step-2').classList.remove('bg-green-600', 'bg-green-500', 'text-white');
            document.getElementById('step-2').classList.add('bg-gray-200', 'text-gray-600');
            document.getElementById('progress-2').style.width = '0%';
            document.getElementById('step-3').textContent = '3';
            document.getElementById('step-3').classList.remove('bg-green-600', 'text-white');
            document.getElementById('step-3').classList.add('bg-gray-200', 'text-gray-600');
            generateCaptcha();
        }

        // ==================== WITHDRAW ====================
        function updateWithdrawPage() {
            currentUser = Storage.getCurrentUser();
            document.getElementById('withdraw-saldo').textContent = formatRupiah(currentUser.saldo);
            document.getElementById('withdraw-info-nama').textContent = `Nama: ${currentUser.namaAkunDana}`;
            document.getElementById('withdraw-info-dana').textContent = `DANA: ${currentUser.nomorDana}`;
            updateWithdrawalList();
        }

        function setWithdrawAmount(amount) {
            document.getElementById('withdraw-amount').value = amount;
        }

        document.getElementById('withdraw-form')?.addEventListener('submit', function(e) {
            e.preventDefault();
            const amount = parseInt(document.getElementById('withdraw-amount').value);
            
            if (amount < 100) {
                showToast('Minimal penarikan Rp 100');
                return;
            }
            
            if (currentUser.saldo < amount) {
                showToast('Saldo tidak mencukupi');
                return;
            }
            
            // Deduct balance
            currentUser.saldo -= amount;
            Storage.saveUser(currentUser);
            Storage.setCurrentUser(currentUser);
            
            // Save withdrawal
            Storage.saveWithdrawal({
                id: generateId(),
                userId: currentUser.id,
                user: currentUser,
                amount: amount,
                status: 'pending',
                createdAt: new Date().toISOString()
            });
            
            // Save transaction
            Storage.saveTransaction({
                id: generateId(),
                userId: currentUser.id,
                type: 'withdraw',
                amount: -amount,
                status: 'pending',
                description: `Penarikan ${formatRupiah(amount)} ke DANA ${currentUser.nomorDana}`,
                createdAt: new Date().toISOString()
            });
            
            document.getElementById('withdraw-amount').value = '';
            updateWithdrawPage();
            showToast('Permintaan penarikan berhasil dibuat!');
        });

        function updateWithdrawalList() {
            const withdrawals = Storage.getWithdrawals()
                .filter(w => w.userId === currentUser.id)
                .sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
            
            const listEl = document.getElementById('withdrawal-list');
            if (withdrawals.length === 0) {
                listEl.innerHTML = '<p class="text-center text-gray-500 py-8">Belum ada penarikan</p>';
                return;
            }
            
            listEl.innerHTML = withdrawals.map(w => `
                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                    <div>
                        <p class="font-medium text-sm">Penarikan ke DANA</p>
                        <p class="text-xs text-gray-500">${formatDate(w.createdAt)}</p>
                    </div>
                    <div class="text-right">
                        <p class="font-semibold text-red-600">-${formatRupiah(w.amount)}</p>
                        <span class="text-xs px-2 py-1 rounded-full ${
                            w.status === 'completed' ? 'bg-green-100 text-green-700' : 
                            w.status === 'pending' ? 'bg-yellow-100 text-yellow-700' : 
                            'bg-red-100 text-red-700'
                        }">
                            ${w.status === 'completed' ? 'Selesai' : w.status === 'pending' ? 'Pending' : 'Ditolak'}
                        </span>
                    </div>
                </div>
            `).join('');
        }

        // ==================== REFERRAL ====================
        function updateReferralPage() {
            currentUser = Storage.getCurrentUser();
            const users = Storage.getUsers();
            const referredUsers = users.filter(u => u.referredBy === currentUser.id);
            
            document.getElementById('ref-total').textContent = referredUsers.length;
            document.getElementById('ref-active').textContent = referredUsers.filter(u => u.totalPenghasilan > 0).length;
            
            const transactions = Storage.getTransactions();
            const refEarnings = transactions
                .filter(t => t.userId === currentUser.id && (t.type === 'referral_bonus' || t.type === 'referral_commission'))
                .reduce((sum, t) => sum + t.amount, 0);
            document.getElementById('ref-earnings').textContent = formatRupiah(refEarnings);
            
            const refLink = `${window.location.origin}/index.html?ref=${currentUser.referralCode}`;
            document.getElementById('ref-link-display').textContent = refLink;
            
            // Update referred users list
            const listEl = document.getElementById('referred-users-list');
            if (referredUsers.length === 0) {
                listEl.innerHTML = `
                    <div class="text-center py-8">
                        <svg class="w-12 h-12 text-gray-300 mx-auto mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                        <p class="text-gray-500">Belum ada teman yang diundang</p>
                        <p class="text-sm text-gray-400 mt-1">Bagikan link referral Anda untuk mulai mengundang</p>
                    </div>
                `;
            } else {
                listEl.innerHTML = referredUsers.map(u => `
                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center">
                                <span class="font-medium text-green-600">${u.nama.charAt(0).toUpperCase()}</span>
                            </div>
                            <div>
                                <p class="font-medium text-sm">${u.nama}</p>
                                <p class="text-xs text-gray-500">${new Date(u.createdAt).toLocaleDateString('id-ID')}</p>
                            </div>
                        </div>
                        <span class="text-xs px-2 py-1 rounded-full ${u.totalPenghasilan > 0 ? 'bg-green-100 text-green-700' : 'bg-gray-100 text-gray-600'}">
                            ${u.totalPenghasilan > 0 ? 'Aktif' : 'Pending'}
                        </span>
                    </div>
                `).join('');
            }
        }

        function copyRefLink() {
            const link = document.getElementById('ref-link-display').textContent;
            navigator.clipboard.writeText(link);
            showToast('Link berhasil disalin!');
        }

        function shareRefLink() {
            const link = document.getElementById('ref-link-display').textContent;
            if (navigator.share) {
                navigator.share({
                    title: 'Gabung AdsDuitID - Dapatkan Uang dari Iklan',
                    text: `Daftar di AdsDuitID menggunakan kode referral saya ${currentUser.referralCode} dan dapatkan bonus!`,
                    url: link
                });
            } else {
                copyRefLink();
            }
        }

        // ==================== INIT ====================
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM Content Loaded - Initializing AdsDuitID');
            
            try {
                // Check for existing session
                currentUser = Storage.getCurrentUser();
                console.log('Current user:', currentUser);
                
                // Check for referral code in URL
                const urlParams = new URLSearchParams(window.location.search);
                const refCode = urlParams.get('ref');
                if (refCode) {
                    const refInput = document.getElementById('reg-referral');
                    if (refInput) {
                        refInput.value = refCode;
                        console.log('Referral code set:', refCode);
                    }
                }
                
                // Show home page
                showPage('home');
                console.log('App initialized successfully');
            } catch (error) {
                console.error('Initialization error:', error);
                alert('Terjadi kesalahan saat memuat aplikasi: ' + error.message);
            }
        });
    </script>
</body>
</html>
